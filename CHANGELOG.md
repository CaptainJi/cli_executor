# 更新日志

本项目的所有重要变更都将记录在此文件中。

格式基于[Keep a Changelog](https://keepachangelog.com/en/1.0.0/)，
本项目遵循[语义化版本](https://semver.org/spec/v2.0.0.html)。

## [1.0.0] - 2025-08-12

### 新增
- 🚀 **使用FastMCP 2.11+完全重写** - MCP服务器实现
- 🔧 **增强的命令执行** - 更好的错误处理和超时支持
- 📜 **改进的脚本执行** - 多shell支持和适当的清理
- 📁 **丰富的目录列表** - 文件大小格式化和隐藏文件支持
- 🖥️ **全面的系统信息** - 详细的系统和环境信息
- 📋 **增强的部署提示** - 更详细和结构化的部署指南
- ⚡ **多种传输支持** - stdio、HTTP和streamable-HTTP传输
- 🛡️ **安全特性** - 命令超时和更好的错误处理
- 🔍 **跨平台兼容性** - 改进的Windows、macOS和Linux支持
- 📚 **完善文档** - 包含示例的全面README
- 🧪 **测试套件** - 所有功能的自动化测试
- 📦 **示例配置** - 各种客户端的即用配置文件

### 变更
- **破坏性变更**: 从传统MCP迁移到FastMCP框架
- **破坏性变更**: 更新Python要求到3.8+
- **破坏性变更**: 入口点从`cli_executor.cli_server:main`改为`cli_executor.server:main`
- 改进命令行参数解析，提供更好的帮助文本
- 增强错误消息和日志记录
- 更新项目结构以遵循Python打包标准
- 用FastMCP装饰器替换自定义MCP实现

### 移除
- 传统MCP服务器实现
- setup.py（替换为pyproject.toml）
- 已弃用的环境变量处理
- 旧式函数注册

### 修复
- 不同系统上的shell环境加载
- 脚本执行中的临时文件清理
- 跨平台路径处理
- 长时间运行进程中的内存泄漏
- 并发命令执行中的竞态条件

### 安全
- 添加命令超时保护
- 改进输入验证
- 更好的错误消息清理
- 增强权限检查

## [0.5.0] - 之前版本

### 新增
- 基本CLI命令执行
- 多行脚本支持
- 目录列表功能
- 系统信息资源
- 基本部署提示
- HTTP和stdio传输支持

### 之前版本的功能
- 执行单个CLI命令
- 执行多行脚本
- 列出目录内容
- 获取系统信息
- 生成部署提示
- 环境变量配置
- 基本错误处理